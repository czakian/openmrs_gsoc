<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMapConfig
	PUBLIC "-//iBATIS.com//DTD SQL Map Config 2.0//EN"
	"http://www.ibatis.com/dtd/sql-map-config-2.dtd">
	
<sqlMapConfig>

<properties resource="SqlMapConfig.properties" />

<settings
	cacheModelsEnabled="true"
	enhancementEnabled="true"
	lazyLoadingEnabled="true"
	maxRequests="128"
	maxSessions="10"
	maxTransactions="5"
	useStatementNamespaces="false" />

<transactionManager type="JDBC">
	<dataSource type="DBCP">
		<property name="JDBC.Driver" value="${driver}" />
		<property name="JDBC.ConnectionURL" value="${url}" />
		<property name="JDBC.Username" value="${username}" />
		<property name="JDBC.Password" value="${password}" />
		<property name="Pool.MaximumActiveConnections" value="10" />
		<property name="Pool.MaximumIdleConnections" value="5" />
		<property name="Pool.MaximumWait" value="60000" />
		<property name="Pool.ValidationQuery" value="SELECT 1 FROM users" />
		<property name="Pool.LogAbandoned" value="false" />
		<property name="Pool.RemoveAbandoned" value="false" />
		<property name="Pool.RemoveAbandonedTimeout" value="50000" />
	</dataSource>
</transactionManager>

<sqlMap resource="maps/Concept.xml" />
<sqlMap resource="maps/Drug.xml" />
<sqlMap resource="maps/Encounter.xml" />
<sqlMap resource="maps/EncounterType.xml" />
<sqlMap resource="maps/Field.xml" />
<sqlMap resource="maps/FieldAnswer.xml" />
<sqlMap resource="maps/FieldType.xml" />
<sqlMap resource="maps/Form.xml" />
<sqlMap resource="maps/FormField.xml" />
<sqlMap resource="maps/Location.xml" />
<sqlMap resource="maps/MimeType.xml" />
<sqlMap resource="maps/Obs.xml" /> 
<sqlMap resource="maps/Order.xml" />
<sqlMap resource="maps/OrderType.xml" />
<sqlMap resource="maps/Patient.xml" />
<sqlMap resource="maps/PatientAddress.xml" />
<sqlMap resource="maps/PatientIdentifier.xml" />
<sqlMap resource="maps/PatientIdentifierType.xml" />
<sqlMap resource="maps/PatientName.xml" />
<sqlMap resource="maps/Privilege.xml" />
<sqlMap resource="maps/Tribe.xml" />
<sqlMap resource="maps/Role.xml" />
<sqlMap resource="maps/User.xml" />

<!-- Maps with dependencies on above maps (must load later) -->
<sqlMap resource="maps/ComplexObs.xml" />
<sqlMap resource="maps/DrugOrder.xml" />

</sqlMapConfig>