<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap
	PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN"
	"http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="org.openmrs.MimeType">
 
<!-- ************************************************************ -->
<!-- ** Creation                                               ** -->
<!-- ************************************************************ -->

<insert id="createMimeType" parameterClass="org.openmrs.MimeType">
	INSERT INTO mime_type
		(
		mime_type,
		description
		)
	VALUES
		(
		#mimeType#,
		#description#
		);
	<selectKey keyProperty="mimeTypeId">
		SELECT LAST_INSERT_ID() AS mimeTypeId
	</selectKey>
</insert>

<!-- ************************************************************ -->
<!-- ** Read                                                   ** -->
<!-- ************************************************************ -->

<resultMap id="mimeTypeResult" class="org.openmrs.MimeType">
	<result property="mimeTypeId" column="mime_type_id" />
	<result property="mimeType" column="mime_type" />
	<result property="description" column="description" />
</resultMap>

<select id="getMimeType" parameterClass="int" resultMap="mimeTypeResult">
	SELECT * FROM mime_type WHERE mime_type_id = #value#
</select>

<select id="getAllMimeTypes" resultMap="mimeTypeResult">
	SELECT * FROM mime_type
</select>


<!-- ************************************************************ -->
<!-- ** Update                                                 ** -->
<!-- ************************************************************ -->

<update id="updateMimeType" parameterClass="org.openmrs.MimeType">
	UPDATE
		mime_type
	SET
		mime_type = #mimeType#,
		description = #description#
	WHERE
		mime_type_id = #mimeTypeId#
</update>

<!-- ************************************************************ -->
<!-- ** Delete                                                 ** -->
<!-- ************************************************************ -->

<delete id="deleteMimeType" parameterClass="int">
	DELETE FROM mime_type WHERE mime_type_id = #value#
</delete>

</sqlMap>